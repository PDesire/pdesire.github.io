(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{314:function(e,t,n){"use strict";n.r(t),n.d(t,"startInputShims",(function(){return w}));var o=n(287);const r=new WeakMap,c=(e,t,n,o=0)=>{r.has(e)!==n&&(n?d(e,t,o):m(e,t))},l=input=>input===input.getRootNode().activeElement,d=(e,t,n)=>{const o=t.parentNode,c=t.cloneNode(!1);c.classList.add("cloned-input"),c.tabIndex=-1,o.appendChild(c),r.set(e,c);const l="rtl"===e.ownerDocument.dir?9999:-9999;e.style.pointerEvents="none",t.style.transform=`translate3d(${l}px,${n}px,0) scale(0)`},m=(e,t)=>{const n=r.get(e);n&&(r.delete(e),n.remove()),e.style.pointerEvents="",t.style.transform=""},f="input, textarea, [no-blur]",v=(e,t,n,o)=>{const r=e.top,c=e.bottom,l=t.top,d=l+15,m=.5*Math.min(t.bottom,o-n)-c,f=d-r,v=Math.round(m<0?-m:f>0?-f:0),E=Math.min(v,r-l),h=Math.abs(E)/.3;return{scrollAmount:E,scrollDuration:Math.min(400,Math.max(150,h)),scrollPadding:n,inputSafeY:4-(r-d)}},E=(e,t,n,o)=>{const r=((e,t,n)=>{const o=e.closest("ion-item,[ion-item]")||e;return v(o.getBoundingClientRect(),t.getBoundingClientRect(),n,e.ownerDocument.defaultView.innerHeight)})(e,n,o);if(Math.abs(r.scrollAmount)<4)t.focus();else if(c(e,t,!0,r.inputSafeY),t.focus(),"undefined"!=typeof window){let o;const l=async()=>{void 0!==o&&clearTimeout(o),window.removeEventListener("resize",l),await n.scrollByPoint(0,r.scrollAmount,r.scrollDuration),c(e,t,!1,r.inputSafeY),t.focus()};window.addEventListener("resize",l),o=setTimeout(l,1e3)}},h=(e,t,n)=>{if(t&&n){const o=t.x-n.x,r=t.y-n.y;return o*o+r*r>e*e}return!1},y=(input,e)=>{if("INPUT"!==input.tagName)return;if(input.parentElement&&"ION-INPUT"===input.parentElement.tagName)return;if(input.parentElement&&input.parentElement.parentElement&&"ION-SEARCHBAR"===input.parentElement.parentElement.tagName)return;const t=input.closest("ion-content");if(null===t)return;const n=t.$ionPaddingTimer;n&&clearTimeout(n),e>0?t.style.setProperty("--keyboard-offset",e+"px"):t.$ionPaddingTimer=setTimeout(()=>{t.style.setProperty("--keyboard-offset","0px")},120)},w=e=>{const t=document,n=e.getNumber("keyboardHeight",290),r=e.getBoolean("scrollAssist",!0),d=e.getBoolean("hideCaretOnScroll",!0),m=e.getBoolean("inputBlurring",!0),v=e.getBoolean("scrollPadding",!0),w=Array.from(t.querySelectorAll("ion-input, ion-textarea")),L=new WeakMap,S=new WeakMap,x=async e=>{e.componentOnReady&&await e.componentOnReady();const t=e.shadowRoot||e,m=t.querySelector("input")||t.querySelector("textarea"),f=e.closest("ion-content");if(m){if(f&&d&&!L.has(e)){const t=((e,t,n)=>{if(!n||!t)return()=>{};const o=n=>{l(t)&&c(e,t,n)},r=()=>c(e,t,!1),d=()=>o(!0),m=()=>o(!1);return n.addEventListener("ionScrollStart",d),n.addEventListener("ionScrollEnd",m),t.addEventListener("blur",r),()=>{n.removeEventListener("ionScrollStart",d),n.removeEventListener("ionScrollEnd",m),t.addEventListener("ionBlur",r)}})(e,m,f);L.set(e,t)}if(f&&r&&!S.has(e)){const t=((e,t,n,r)=>{let c;const d=e=>{c=Object(o.j)(e)},m=d=>{if(!c)return;const m=Object(o.j)(d);h(6,c,m)||l(t)||(d.preventDefault(),d.stopPropagation(),E(e,t,n,r))};return e.addEventListener("touchstart",d,!0),e.addEventListener("touchend",m,!0),()=>{e.removeEventListener("touchstart",d,!0),e.removeEventListener("touchend",m,!0)}})(e,m,f,n);S.set(e,t)}}};m&&(()=>{let e=!0,t=!1;const n=document,o=()=>{t=!0},r=()=>{e=!0},c=o=>{if(t)return void(t=!1);const r=n.activeElement;if(!r)return;if(r.matches(f))return;const c=o.target;c!==r&&(c.matches(f)||c.closest(f)||(e=!1,setTimeout(()=>{e||r.blur()},50)))};n.addEventListener("ionScrollStart",o),n.addEventListener("focusin",r,!0),n.addEventListener("touchend",c,!1)})(),v&&(e=>{const t=document,n=t=>{y(t.target,e)},o=e=>{y(e.target,0)};t.addEventListener("focusin",n),t.addEventListener("focusout",o)})(n);for(const input of w)x(input);t.addEventListener("ionInputDidLoad",e=>{x(e.detail)}),t.addEventListener("ionInputDidUnload",e=>{(e=>{if(d){const t=L.get(e);t&&t(),L.delete(e)}if(r){const t=S.get(e);t&&t(),S.delete(e)}})(e.detail)})}}}]);